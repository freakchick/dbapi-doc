<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DBApi用户使用手册 | DBAPI</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?a8fb326da5bdf70aa80eb56b11f97e0f";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
                
          </script>
    <meta name="description" content="Vue-powered Static Site Generator">
    
    <link rel="preload" href="/assets/css/0.styles.7be31436.css" as="style"><link rel="preload" href="/assets/js/app.5d88dc79.js" as="script"><link rel="preload" href="/assets/js/3.91e00d9f.js" as="script"><link rel="preload" href="/assets/js/9.ee2a264a.js" as="script"><link rel="prefetch" href="/assets/js/10.60af250e.js"><link rel="prefetch" href="/assets/js/11.f19c60e4.js"><link rel="prefetch" href="/assets/js/12.883416c4.js"><link rel="prefetch" href="/assets/js/13.c92fe683.js"><link rel="prefetch" href="/assets/js/14.6f481334.js"><link rel="prefetch" href="/assets/js/15.538c5c8c.js"><link rel="prefetch" href="/assets/js/16.44b53986.js"><link rel="prefetch" href="/assets/js/4.7432690a.js"><link rel="prefetch" href="/assets/js/5.7487c1a0.js"><link rel="prefetch" href="/assets/js/6.ac85b528.js"><link rel="prefetch" href="/assets/js/7.3e46598f.js"><link rel="prefetch" href="/assets/js/8.c9600528.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5f89cefe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7be31436.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DBAPI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  Install
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  Plugin
</a></div><div class="nav-item"><a href="/donate/" class="nav-link">
  💖Sponsor
</a></div><div class="nav-item"><a href="https://gitee.com/freakchicken/db-api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/freakchick/DBApi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  Install
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  Plugin
</a></div><div class="nav-item"><a href="/donate/" class="nav-link">
  💖Sponsor
</a></div><div class="nav-item"><a href="https://gitee.com/freakchicken/db-api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/freakchick/DBApi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>DBApi用户使用手册</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/#数据源" class="sidebar-link">数据源</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/guide/#插件" class="sidebar-link">插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#_1-数据转换插件" class="sidebar-link">1. 数据转换插件</a></li><li class="sidebar-sub-header"><a href="/guide/#_2-缓存插件" class="sidebar-link">2. 缓存插件</a></li><li class="sidebar-sub-header"><a href="/guide/#_3-告警插件" class="sidebar-link">3 告警插件</a></li></ul></li><li><a href="/guide/#监控" class="sidebar-link">监控</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/guide/#基本操作" class="sidebar-link">基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#创建-修改数据源" class="sidebar-link">创建/修改数据源</a></li><li class="sidebar-sub-header"><a href="/guide/#创建-修改api" class="sidebar-link">创建/修改API</a></li><li class="sidebar-sub-header"><a href="/guide/#api分组管理" class="sidebar-link">API分组管理</a></li><li class="sidebar-sub-header"><a href="/guide/#api请求测试" class="sidebar-link">API请求测试</a></li><li class="sidebar-sub-header"><a href="/guide/#sql调试" class="sidebar-link">sql调试</a></li></ul></li><li><a href="/guide/#权限管理" class="sidebar-link">权限管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#创建应用" class="sidebar-link">创建应用</a></li><li class="sidebar-sub-header"><a href="/guide/#授权应用可以访问哪些api" class="sidebar-link">授权应用可以访问哪些API</a></li><li class="sidebar-sub-header"><a href="/guide/#token使用说明" class="sidebar-link">Token使用说明</a></li><li class="sidebar-sub-header"><a href="/guide/#ip防火墙设置" class="sidebar-link">ip防火墙设置</a></li></ul></li><li><a href="/guide/#其他功能" class="sidebar-link">其他功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#导出接口文档" class="sidebar-link">导出接口文档</a></li></ul></li><li><a href="/guide/#注意事项" class="sidebar-link">注意事项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#数据源支持" class="sidebar-link">数据源支持</a></li><li class="sidebar-sub-header"><a href="/guide/#sql编写规范" class="sidebar-link">sql编写规范</a></li></ul></li><li><a href="/guide/#权限校验流程" class="sidebar-link">权限校验流程</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dbapi用户使用手册"><a href="#dbapi用户使用手册" class="header-anchor">#</a> DBApi用户使用手册</h1> <h2 id="数据源"><a href="#数据源" class="header-anchor">#</a> 数据源</h2> <ul><li>理论上支持所有支持JDBC协议的数据库</li> <li>创建数据源的时候如果选择其他类型，需要用户手动填写JDBC驱动class类和查询所有表的sql，<strong>同时将相应的JDBC驱动jar包放入DBApi的<code>lib</code>目录下并重启生效（如果是集群模式，每个节点都需要拷贝jar包并重启集群）</strong></li> <li>DBApi已经自带mysql/sqlserver/postgreSql/hive/kylin/clickhouse/的驱动包，<strong>如果版本不匹配请手动替换<code>lib</code>目录下的相应驱动jar包</strong></li> <li><code>查询所有表sql</code>的作用：创建、编辑API的时候，点击选择数据源，会自动展示该数据源下的所有表名称，方便辅助用户编写业务逻辑sql。
由于不同数据库查询所有表名称的方式都不一样，所以需要用户手动去填写这个sql
<img src="https://freakchicken.gitee.io/images/dbApi/20220503/tables.png" alt=""></li></ul> <h2 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h2> <ul><li>DBApi的插件分3类，分别是数据转换插件、缓存插件、告警插件</li> <li>插件需要用户自己编写java代码开发。开发完成后打成jar包，并放入DBApi的<code>lib</code>目录下即可以使用</li> <li><a href="/guide/plugin development.html">插件开发指南</a></li></ul> <h3 id="_1-数据转换插件"><a href="#_1-数据转换插件" class="header-anchor">#</a> 1. 数据转换插件</h3> <ul><li>有时候sql无法一次性获得自己想要的数据格式，如果用代码对数据进行一些处理转换能更加方便，这时候就要用到数据转换插件。用户自己编写数据转换逻辑的代码。</li> <li>典型场景，比如针对sql查询结果中的用户手机号、银行卡号进行加密脱敏。</li></ul> <h3 id="_2-缓存插件"><a href="#_2-缓存插件" class="header-anchor">#</a> 2. 缓存插件</h3> <ul><li>主要是对查询类API，sql查询结果进行缓存，这样避免频繁的查询数据库，对数据库造成压力。</li> <li>缓存逻辑由用户自己编写，用户可以缓存到redis/mongodb/elasticsearch等等。</li> <li>如果开启了缓存，当从缓存中查询不到数据时，才去数据库查询，同时将结果缓存下来。</li></ul> <h3 id="_3-告警插件"><a href="#_3-告警插件" class="header-anchor">#</a> 3 告警插件</h3> <ul><li>当API内部报错的时候，告警插件可以将报错信息发送告警提醒，比如发邮件、发短信</li> <li>告警逻辑由用户自己编写</li></ul> <h2 id="监控"><a href="#监控" class="header-anchor">#</a> 监控</h2> <blockquote><p>DBAPI只依赖元数据库（mysql/sqlite）就可以使用，但是如果您还需要使用页面上的监控功能（监控API调用记录、访问量、成功率等等），
就必须依赖于另一个日志数据库，来存储API访问日志，推荐使用clickhouse，当然您也可以使用其它的关系型数据库。</p> <p>目前提供了clickhouse/mysql的日志数据库初始化脚本，在<code>sql</code>目录下</p></blockquote> <ul><li>API访问日志采集进入日志数据库有3种方式</li></ul> <ol><li>DBAPI默认会将API访问日志写入磁盘文件<code>logs/dbapi-access.log</code>，用户可以自行使用<code>datax</code> <code>flume</code>等工具采集日志到日志数据库</li> <li>如果在<code>conf/application.properties</code>文件配置了<code>access.log.writer=db</code>，那么DBAPI会将API访问日志直接写入日志数据库，这种方式适用于日志量不太大的场景下。</li> <li>如果在<code>conf/application.properties</code>文件配置了<code>access.log.writer=kafka</code>，那么DBAPI会将API访问日志写入kafka，
用户需要自行从kafka采集日志到日志数据库，这种方式适用于日志量大的场景，可以由kafka去做数据缓冲。</li></ol> <blockquote><p>注意此种方式下需要在<code>conf/application.properties</code>文件填写kafka地址。</p> <p>同时DBAPI也自带了消费kafka日志并写入日志数据库的工具，请使用XXX脚本。</p></blockquote> <h2 id="基本操作"><a href="#基本操作" class="header-anchor">#</a> 基本操作</h2> <h3 id="创建-修改数据源"><a href="#创建-修改数据源" class="header-anchor">#</a> 创建/修改数据源</h3> <p><img src="https://freakchicken.gitee.io/images/dbApi/20220313/datasource_add.png" alt=""></p> <h3 id="创建-修改api"><a href="#创建-修改api" class="header-anchor">#</a> 创建/修改API</h3> <h4 id="基础配置"><a href="#基础配置" class="header-anchor">#</a> 基础配置</h4> <p><img src="https://freakchicken.gitee.io/images/dbApi/20220503/api_edit.png" alt=""></p> <ul><li>API分组，选择API所属的分组，这个分组可以将来授权使用</li> <li>请求路径，这就是将来http请求的路径</li> <li>选择数据源，就是接口执行sql逻辑的数据库地址</li> <li>填入sql ,类似mybatis的动态sql语法，<strong>不需要写最外层的<code>&lt;select&gt;</code> <code>&lt;update&gt;</code> 标签</strong>，参数名用 <code>#{}</code> <code>${}</code>
表示，可以参考<a href="https://mybatis.org/mybatis-3/zh/dynamic-sql.html" target="_blank" rel="noopener noreferrer">mybatis文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>一个sql编写窗口内只能写一条sql</li> <li>点击添加可以新增sql，一个API内可以执行多条sql，最后的多个结果封装后一起返回，比如分页查询，一个接口内既要查询详情也要查询总条数</li> <li>选择Content-Type，如果是<code>application/x-www-form-urlencoded</code>类型的API, 需要配置参数，如果是<code>application/json</code>类型的API，需要填写json参数实例</li></ul> <blockquote><p>对于<code>application/x-www-form-urlencoded</code>类型的API，用户在请求该API的时候既可以使用<code>application/x-www-form-urlencoded</code>，也可以使用<code>application/json</code></p></blockquote> <blockquote><p>对于<code>application/json</code>类型的API，用户在请求该API的时候只能使用<code>application/json</code>方式</p></blockquote> <ul><li>添加参数，参数名称就是sql中的参数名，sql中涉及到的每个参数都要填写</li> <li>访问权限，开放接口可以直接访问，私有接口需要用户申请token才能访问</li></ul> <h4 id="高级配置"><a href="#高级配置" class="header-anchor">#</a> 高级配置</h4> <p><img src="https://freakchicken.gitee.io/images/dbApi/20220503/api_edit2.png" alt=""></p> <ul><li>事务</li></ul> <blockquote><p>默认关闭事务，如果是insert/update/delete语句，建议开启事务，开启事务后如果sql执行失败事务会回滚。如果API内有多条sql，开启事务后多条sql是放在一个事务内执行的</p></blockquote> <blockquote><p><strong>如果是HIVE等不支持事务的数据库，请不要开启事务，否则会报错</strong></p></blockquote> <ul><li>数据转换，如果需要数据转换，就填写数据转换插件的java类名，不填写表示不转换。插件如果需要传参数就填写参数。</li></ul> <blockquote><p><strong>如果一个API内包含多条sql，那么每条sql会对应一个数据转换插件配置，数据转换插件永远是针对单条sql查询结果进行转换</strong></p></blockquote> <ul><li>缓存，如果需要数据缓存，就填写缓存插件的java类名，不填写表示不开启缓存。插件如果需要传参数就填写参数。</li> <li>告警，如果API执行失败需要告警的话，就填写告警插件的java类名，不填写表示不开启失败告警。插件如果需要传参数就填写参数。</li></ul> <h3 id="api分组管理"><a href="#api分组管理" class="header-anchor">#</a> API分组管理</h3> <ul><li>可以添加、删除分组
<img src="https://freakchicken.gitee.io/images/dbApi/20210502/group.png" alt=""></li></ul> <h3 id="api请求测试"><a href="#api请求测试" class="header-anchor">#</a> API请求测试</h3> <ul><li>在页面快速访问API，查看结果
<img src="https://freakchicken.gitee.io/images/dbApi/20221001/request.png" alt=""></li></ul> <blockquote><p>如果是私有接口，用户必须先使用自己的appid和secret来申请token，然后再使用token去访问接口。
如果是开放接口则可以直接访问</p></blockquote> <blockquote><p>注意如果是内网部署，您需要手动修改访问的IP、端口为外网IP、端口</p></blockquote> <h3 id="sql调试"><a href="#sql调试" class="header-anchor">#</a> sql调试</h3> <ul><li>点击sql填写框右上角的最大化按钮，可以开启sql调试功能
<img src="https://freakchicken.gitee.io/images/dbApi/20210803/sql_run.png" alt=""></li></ul> <blockquote><p>如果sql中有参数，在调试的时候，请输入参数</p></blockquote> <h2 id="权限管理"><a href="#权限管理" class="header-anchor">#</a> 权限管理</h2> <p><img src="https://freakchicken.gitee.io/images/dbApi/20221001/apps.png" alt=""></p> <blockquote><p><strong>什么是应用？</strong></p> <p>应用由系统管理员创建，创建好后会自动生成appid和secret，系统管理员需要将appid和secret告知客户端（API调用方）。
客户端使用自己的appid和secret访问 <code>http://192.168.xx.xx:8520/token/generate?appid=xxx&amp;secret=xxx</code>
接口可以动态的获取token，客户端使用这个token才能访问私有API（前提是系统管理员已经对该应用授权了访问此私有API）</p></blockquote> <h3 id="创建应用"><a href="#创建应用" class="header-anchor">#</a> 创建应用</h3> <p><img src="https://freakchicken.gitee.io/images/dbApi/20221001/app_add.png" alt=""></p> <blockquote><p>创建应用必须设置token过期时间，以后客户端每次申请的token就会有相应的过期时间，在这个有效期内，
使用上一次申请的token去访问API都是有效的。否则过了这个过期时间，就要重新申请token。</p></blockquote> <blockquote><p>如果token过期时间设置单次有效，那么每次访问私有API都需要重新申请一次token</p></blockquote> <h3 id="授权应用可以访问哪些api"><a href="#授权应用可以访问哪些api" class="header-anchor">#</a> 授权应用可以访问哪些API</h3> <p><img src="https://freakchicken.gitee.io/images/dbApi/20221001/auth.png" alt=""></p> <blockquote><p>私有API权限控制粒度仅到API分组级别，可以对应用授权可以访问那些分组下的API。
那么该应用对应的apid和secret申请到的token就可以访问到该应用授权的分组下的API</p></blockquote> <h3 id="token使用说明"><a href="#token使用说明" class="header-anchor">#</a> Token使用说明</h3> <ul><li><p>token申请接口：
<code>http://192.168.xx.xx:8520/token/generate?appid=xxx&amp;secret=xxx</code></p></li> <li><p>请求私有接口时，需要把token值放入header的<code>Authorization</code>字段中携带，才可以访问成功。（如果是开放接口，不需要设置header）</p></li> <li><p>以python为例，访问API的代码示例如下：</p></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;5ad0dcb4eb03d3b0b7e4b82ae0ba433f&quot;</span><span class="token punctuation">}</span>
re <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&quot;http://127.0.0.1:8520/API/userById&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;idList&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre></div><h3 id="ip防火墙设置"><a href="#ip防火墙设置" class="header-anchor">#</a> ip防火墙设置</h3> <p><img src="https://freakchicken.gitee.io/images/dbApi/20210803/ip.png" alt=""></p> <h2 id="其他功能"><a href="#其他功能" class="header-anchor">#</a> 其他功能</h2> <h3 id="导出接口文档"><a href="#导出接口文档" class="header-anchor">#</a> 导出接口文档</h3> <ul><li>可以导出接口文档（markdown格式）
<img src="https://freakchicken.gitee.io/images/dbApi/20210502/docs.png" alt=""></li></ul> <h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <h3 id="数据源支持"><a href="#数据源支持" class="header-anchor">#</a> 数据源支持</h3> <ul><li><strong>如果您要使用Oracle或者其他类型的数据源，请将相应的jdbc驱动包手动放入DBApi部署后的<code>lib</code>目录下（如果是集群部署每个节点都需要手动放入jar包）</strong></li></ul> <h3 id="sql编写规范"><a href="#sql编写规范" class="header-anchor">#</a> sql编写规范</h3> <ul><li>和mybatis动态sql语法一样，同样支持参数<code>#{}</code>、 <code>${}</code>，可以参考<a href="https://mybatis.org/mybatis-3/zh/dynamic-sql.html" target="_blank" rel="noopener noreferrer">mybatis文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
，不需要写最外层的<code>&lt;select&gt;</code> <code>&lt;update&gt;</code> 标签，直接写sql内容</li> <li>注意和mybatis一样，sql里的小于号不要写成<code>&lt;</code>，要写成 <code>&amp;lt;</code></li></ul> <h2 id="权限校验流程"><a href="#权限校验流程" class="header-anchor">#</a> 权限校验流程</h2> <p><img src="https://freakchicken.gitee.io/images/dbApi/20210502/lc.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5d88dc79.js" defer></script><script src="/assets/js/3.91e00d9f.js" defer></script><script src="/assets/js/9.ee2a264a.js" defer></script>
  </body>
</html>
